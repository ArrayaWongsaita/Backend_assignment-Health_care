# üìù Doctor Notes API

## Base URL

```
/doctor-notes
```

**Authentication Required**: ‡∏ó‡∏∏‡∏Å endpoint ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà `Authorization: Bearer <token>` ‡πÉ‡∏ô header

---

## üìã **Endpoints**

### **POST /doctor-notes**

<details>
<summary>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å‡πÅ‡∏û‡∏ó‡∏¢‡πå (Create Doctor Note)</summary>

#### Headers

```
Authorization: Bearer <token>
```

#### Request Body

```json
{
  "patientId": 5,
  "note": "‡∏Ñ‡∏ß‡∏£‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡∏∞‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡πÜ"
}
```

#### Request Fields

| Field       | Type     | Required | Description                     |
| ----------- | -------- | -------- | ------------------------------- |
| `patientId` | `number` | ‚úÖ       | ‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ |
| `note`      | `string` | ‚úÖ       | ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å‡πÅ‡∏û‡∏ó‡∏¢‡πå                 |

#### Success Response (201 Created)

```json
{
  "success": true,
  "message": "Doctor note created successfully",
  "data": {
    "id": 1,
    "doctorId": 2,
    "patientId": 5,
    "note": "‡∏Ñ‡∏ß‡∏£‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡∏∞‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡πÜ",
    "createdAt": "2026-01-19T10:30:00.000Z",
    "updatedAt": "2026-01-19T10:30:00.000Z"
  }
}
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: `doctorId` ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡∏°‡∏≤‡∏à‡∏≤‡∏Å JWT token (req.user.id) ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

#### Error Responses

**400 Bad Request** - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

```json
{
  "success": false,
  "error": "Validation failed",
  "details": {
    "fieldErrors": {
      "patientId": ["Expected number, received string"],
      "note": ["Required"]
    }
  }
}
```

**401 Unauthorized** - ‡πÑ‡∏°‡πà‡∏°‡∏µ token

```json
{
  "success": false,
  "error": "Authentication required"
}
```

**403 Forbidden** - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏û‡∏ó‡∏¢‡πå

```json
{
  "success": false,
  "error": "Only doctors can create notes"
}
```

**404 Not Found** - ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢

```json
{
  "success": false,
  "error": "Patient not found"
}
```

---

### üìä **‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 12 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô**

| ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô                                      | ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô |
| ----------------------------------------------------- | ----- |
| ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á endpoint `/doctor-notes` ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö POST request | 3     |
| ‚úÖ Validate input ‡∏î‡πâ‡∏ß‡∏¢ Zod ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á error ‡πÅ‡∏ö‡∏ö flatten   | 3     |
| ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ user ‡πÄ‡∏õ‡πá‡∏ô DOCTOR (role check)           | 3     |
| ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ patientId ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö              | 2     |
| ‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á response ‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö              | 1     |

</details>

---

### **GET /doctor-notes**

<details>
<summary>‡∏î‡∏∂‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (Get All Doctor Notes)</summary>

#### Headers

```
Authorization: Bearer <token>
```

#### Query Parameters

| Parameter   | Type     | Required | Description                      |
| ----------- | -------- | -------- | -------------------------------- |
| `patientId` | `number` | ‚ùå       | ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå)     |
| `limit`     | `number` | ‚ùå       | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤ (default: 10) |
| `offset`    | `number` | ‚ùå       | ‡∏Ç‡πâ‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (default: 0)          |

#### Success Response (200 OK)

**‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå** (‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á):

```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "doctorId": 2,
      "patientId": 5,
      "note": "‡∏Ñ‡∏ß‡∏£‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡∏∞‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡πÜ",
      "createdAt": "2026-01-19T10:30:00.000Z",
      "updatedAt": "2026-01-19T10:30:00.000Z"
    },
    {
      "id": 2,
      "doctorId": 2,
      "patientId": 6,
      "note": "‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠",
      "createdAt": "2026-01-18T09:15:00.000Z",
      "updatedAt": "2026-01-18T09:15:00.000Z"
    }
  ],
  "pagination": {
    "total": 15,
    "limit": 10,
    "offset": 0,
    "hasMore": true
  }
}
```

**‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢** (‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡πÅ‡∏û‡∏ó‡∏¢‡πå):

```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "doctorId": 2,
      "patientId": 5,
      "note": "‡∏Ñ‡∏ß‡∏£‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡∏∞‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡πÜ",
      "createdAt": "2026-01-19T10:30:00.000Z",
      "updatedAt": "2026-01-19T10:30:00.000Z"
    }
  ],
  "pagination": {
    "total": 3,
    "limit": 10,
    "offset": 0,
    "hasMore": false
  }
}
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ filter ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° role:

- **DOCTOR**: ‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á (doctorId) ‡∏™‡∏£‡πâ‡∏≤‡∏á
- **PATIENT**: ‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á (patientId) ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö

#### Error Responses

**401 Unauthorized** - ‡πÑ‡∏°‡πà‡∏°‡∏µ token

```json
{
  "success": false,
  "error": "Authentication required"
}
```

---

### üìä **‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 18 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô**

| ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô                                                       | ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô |
| ---------------------------------------------------------------------- | ----- |
| ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á endpoint `/doctor-notes` ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö GET request                   | 3     |
| ‚úÖ Filter ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏° role (DOCTOR ‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á, PATIENT ‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö) | 8     |
| ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö query parameters (patientId, limit, offset)                  | 4     |
| ‚úÖ ‡∏™‡πà‡∏á response ‡∏û‡∏£‡πâ‡∏≠‡∏° pagination                                       | 3     |

</details>

---

### **GET /doctor-notes/:id**

<details>
<summary>‡∏î‡∏∂‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (Get Doctor Note by ID)</summary>

#### Headers

```
Authorization: Bearer <token>
```

#### URL Parameters

| Parameter | Type  | Description       |
| --------- | ----- | ----------------- |
| `id`      | `int` | ‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ |

#### Success Response (200 OK)

```json
{
  "success": true,
  "data": {
    "id": 1,
    "doctorId": 2,
    "patientId": 5,
    "note": "‡∏Ñ‡∏ß‡∏£‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡∏∞‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡πÜ",
    "createdAt": "2026-01-19T10:30:00.000Z",
    "updatedAt": "2026-01-19T10:30:00.000Z"
  }
}
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: DoctorNote object ‡∏ó‡∏µ‡πà Prisma return ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

#### Error Responses

**401 Unauthorized** - ‡πÑ‡∏°‡πà‡∏°‡∏µ token

```json
{
  "success": false,
  "error": "Authentication required"
}
```

**403 Forbidden** - ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á

```json
{
  "success": false,
  "error": "Access denied"
}
```

**404 Not Found** - ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å

```json
{
  "success": false,
  "error": "Doctor note not found"
}
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ Access Control**:

- **DOCTOR**: ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á (doctorId ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö user.id)
- **PATIENT**: ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö (patientId ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö user.id)

---

### üìä **‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 12 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô**

| ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô                                         | ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô |
| -------------------------------------------------------- | ----- |
| ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á endpoint `/doctor-notes/:id` ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö GET request | 2     |
| ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ï‡∏≤‡∏° role (403 Forbidden)       | 6     |
| ‚úÖ ‡∏™‡πà‡∏á 404 Not Found ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏ö note                       | 3     |
| ‚úÖ ‡∏™‡πà‡∏á response ‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö                                | 1     |

</details>

---

### **PUT /doctor-notes/:id**

<details>
<summary>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (Update Doctor Note)</summary>

#### Headers

```
Authorization: Bearer <token>
```

#### URL Parameters

| Parameter | Type  | Description       |
| --------- | ----- | ----------------- |
| `id`      | `int` | ‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ |

#### Request Body

```json
{
  "note": "‡∏Ñ‡∏ß‡∏£‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ ‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡πÜ ‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏ö‡∏≤‡πÜ"
}
```

#### Request Fields

| Field  | Type     | Required | Description         |
| ------ | -------- | -------- | ------------------- |
| `note` | `string` | ‚úÖ       | ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å‡πÅ‡∏û‡∏ó‡∏¢‡πå |

#### Success Response (200 OK)

```json
{
  "success": true,
  "message": "Doctor note updated successfully",
  "data": {
    "id": 1,
    "doctorId": 2,
    "patientId": 5,
    "note": "‡∏Ñ‡∏ß‡∏£‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ ‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡πÜ ‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏ö‡∏≤‡πÜ",
    "createdAt": "2026-01-19T10:30:00.000Z",
    "updatedAt": "2026-01-19T11:00:00.000Z"
  }
}
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: DoctorNote object ‡∏ó‡∏µ‡πà Prisma return ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

#### Error Responses

**400 Bad Request** - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

```json
{
  "success": false,
  "error": "Validation failed",
  "details": {
    "fieldErrors": {
      "note": ["Required"]
    }
  }
}
```

**401 Unauthorized** - ‡πÑ‡∏°‡πà‡∏°‡∏µ token

```json
{
  "success": false,
  "error": "Authentication required"
}
```

**403 Forbidden** - ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

```json
{
  "success": false,
  "error": "Only the note's author can edit it"
}
```

**404 Not Found** - ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å

```json
{
  "success": false,
  "error": "Doctor note not found"
}
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ Access Control**:

- ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ **DOCTOR** ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (doctorId ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö user.id) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ
- **PATIENT** ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ

---

### üìä **‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô**

| ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô                                             | ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô |
| ------------------------------------------------------------ | ----- |
| ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á endpoint `/doctor-notes/:id` ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö PUT request     | 2     |
| ‚úÖ Validate input ‡∏î‡πâ‡∏ß‡∏¢ Zod ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á error ‡πÅ‡∏ö‡∏ö flatten          | 2     |
| ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô DOCTOR ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á note (403 Forbidden) | 4     |
| ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á response ‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö                     | 2     |

</details>

---

### **DELETE /doctor-notes/:id**

<details>
<summary>‡∏•‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (Delete Doctor Note)</summary>

#### Headers

```
Authorization: Bearer <token>
```

#### URL Parameters

| Parameter | Type  | Description       |
| --------- | ----- | ----------------- |
| `id`      | `int` | ‡∏£‡∏´‡∏±‡∏™‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ |

#### Success Response (200 OK)

```json
{
  "success": true,
  "message": "Doctor note deleted successfully"
}
```

#### Error Responses

**401 Unauthorized** - ‡πÑ‡∏°‡πà‡∏°‡∏µ token

```json
{
  "success": false,
  "error": "Authentication required"
}
```

**403 Forbidden** - ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏ö

```json
{
  "success": false,
  "error": "Only the note's author can delete it"
}
```

**404 Not Found** - ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å

```json
{
  "success": false,
  "error": "Doctor note not found"
}
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ Access Control**:

- ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ **DOCTOR** ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (doctorId ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö user.id) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏ö‡πÑ‡∏î‡πâ
- **PATIENT** ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ

---

### üìä **‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 8 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô**

| ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô                                             | ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô |
| ------------------------------------------------------------ | ----- |
| ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á endpoint `/doctor-notes/:id` ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö DELETE request  | 2     |
| ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô DOCTOR ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á note (403 Forbidden) | 4     |
| ‚úÖ ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á response ‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö                         | 2     |

</details>

---

## üéØ **‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô**

| Endpoint                   | ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô        | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏                                |
| -------------------------- | ------------ | --------------------------------------- |
| `POST /doctor-notes`       | 12           | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏û‡∏ó‡∏¢‡πå)         |
| `GET /doctor-notes`        | 18           | ‡∏î‡∏∂‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î + role-based filtering |
| `GET /doctor-notes/:id`    | 12           | ‡∏î‡∏∂‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£                    |
| `PUT /doctor-notes/:id`    | 10           | ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á)              |
| `DELETE /doctor-notes/:id` | 8            | ‡∏•‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á)                 |
| **‡∏£‡∏ß‡∏°**                    | **60 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô** |                                         |
